<ng-container *ngIf="inputConfig">
  <label class="clr-control-label" *ngIf="describe" [for]="inputConfig.name">
    {{ inputConfig.label }}
    <small class="required-text" *ngIf="inputConfig.rules?.isRequired">
      (*)
    </small>
  </label>
  <!-- <ng-container *ngIf="inputConfig.multiple && dropzoneConfigs">
    <ngx-smart-dz
      [config]="dropzoneConfigs"
      (removed)="dzOnRemove($event, inputConfig.multiple)"
      (added)="dzOnAdd()"
      [disabled]="control.status.toLowerCase() === 'disabled'"
      [multiple]="inputConfig.multiple"
      (acceptedFiles)="
        onAcceptedFiles(
          $event,
          inputConfig.multiple,
          inputConfig.autoupload,
          inputConfig.uploadAs
        )
      "
      (reset)="onReset()"
    ></ngx-smart-dz>
  </ng-container> -->
  <ng-container *ngIf="inputState$ | async as state">
    <!-- TODO: Add the line to div tag if the dropzone input code is uncommented -->
    <!-- *ngIf="!inputConfig.multiple" -->
    <div [class]="state.hasError ? 'clr-error' : ''" class="flex-files-input">
      <input type="file" placeholder="{{ inputConfig.placeholder }}" fileInput [class]="inputConfig.classes"
        [maxFileSize]="dropzoneConfigs.maxFilesize || 10" [maxFiles]="dropzoneConfigs.maxFiles ?? 10"
        [multiple]="inputConfig.multiple" (sizeError)="onTooLargeFilesEvent($event)" (acceptedFiles)="
          onAcceptedFiles(
            $event,
            inputConfig.multiple,
            inputConfig.autoupload,
            inputConfig.uploadAs
          )
        " (reset)="onReset()" />
      <span *ngIf="state.uploading" class="spinner spinner-inline"></span>
      <a *ngIf="state.hasError" href="#" role="tooltip" aria-haspopup="true"
        class="tooltip tooltip-sm input__error_text">
        <clr-icon shape="error-standard"></clr-icon>
        <span class="tooltip-content error">
          {{ 'fileUploadError' | templateDict }}
        </span>
      </a>
    </div>
    <!-- Large files errors -->
    <span [class]="'input__subtext input__error_text'" *ngIf="state.tooLargeFiles.length > 0">
      {{
      'fileSizeError'
      | templateDict: { maxFilesize: dropzoneConfigs.maxFilesize }
      }}
    </span>
    <!--\ Large files errors -->
    <span [class]="'input__subtext input__error_text'" *ngIf="control.hasError('required') && control.touched">
      {{ 'validation.required' | templateDict }}
    </span>
    <span [class]="'input__subtext'" *ngIf="describe" [innerHTML]="inputConfig.description || '' | safeHtml"></span>
  </ng-container>
</ng-container>