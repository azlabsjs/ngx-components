<div class="clr-control-container">
  <div class="clr-input-wrapper">
    <label class="clr-control-label" *ngIf="describe" [for]="config!.name">
      {{ config!.label }}
      <span class="required-text" *ngIf="config!.rules?.isRequired">
        (*)
      </span>
    </label>
    <ngx-intl-tel-input
      *ngIf="control"
      [label]="describe ? (config.label || '') : ''"
      [required]="config!.rules?.isRequired || false"
      [control]="control"
      [preferredCountries]="['tg', 'bj', 'gh']"
      [country]="'tg'"
    >
      <ng-template #toggleButton let-selected>
        <button
          [disabled]="control.disabled"
          type="button"
          class="btn btn-sm btn-outline-primary"
        >
          +{{ selected?.dialCode }}
          <clr-icon shape="caret down"></clr-icon>
        </button>
      </ng-template>
      <ng-template
        #input
        let-keypress="keypress"
        let-phoneControl="phoneControl"
        let-selected="selected"
      >
        <ng-container
          *ngTemplateOutlet="
            inputRef;
            context: {
              keypress,
              phoneControl,
              selected,
              config,
              onBlur: onBlur.bind(this),
              onFocus: onFocus.bind(this)
            }
          "
        ></ng-container>
      </ng-template>
    </ngx-intl-tel-input>
  </div>
</div>
<span
  [class]="'input__subtext input__error_text'"
  *ngIf="control.hasError('required') && control.touched"
>
  {{ 'validation.required' | templateDict }}
</span>
<span
  [class]="'input__subtext input__error_text'"
  *ngIf="control.hasError('invalidPhoneNumber') && control.touched"
>
  {{ 'validation.phone' | templateDict: { value: '(Ex: 228 90050505)' } }}
</span>
<span
  [class]="'input__subtext'"
  *ngIf="describe"
  [innerHTML]="config!.description || '' | safeHtml"
></span>
