<div [class]="'intl-tel-input allow-dropdown input-effect'">
  <div class="intl-tel-input__layout">
    <azl-dropdown [disabled]="state.disabled || false" class="intl-tel-input__dropdown" orientation="left"
      [text]="'+' + state.selected?.dialCode + '  '" no-hover>
      <div class="select-countries-view-port">
        <div class="dropdown-item" *ngFor="let country of state.preferredCountries" (click)="onCountrySelect(country)">
          <span class="country-name">{{ country.name }}</span>
          <span class="dial-code">+{{ country?.dialCode }}</span>
        </div>
      </div>
      <div class="dropdown-divider"></div>
      <cdk-virtual-scroll-viewport class="countries-viewport" itemSize="20">
        <div class="dropdown-item" *cdkVirtualFor="let country of state.countries" (click)="onCountrySelect(country)">
          <span class="country-name">{{ country?.name }}</span>
          <span class="dial-code">+{{ country?.dialCode }}</span>
        </div>
      </cdk-virtual-scroll-viewport>
    </azl-dropdown>
    <ng-container
      *ngTemplateOutlet="inputTemplateRef ?? defaultInputElement; context: { keypress: onKeyPress.bind(this), selected: state.selected, change: onInputChange.bind(this)}"></ng-container>
    <ng-template #defaultInputElement let-change="change">
      <input [disabled]="state.disabled" [required]="state.required" [tabIndex]="index" autocomplete="off" type="tel"
        [class]="'effect-24 ' + class" (keypress)="onKeyPress($event)" (blur)="onBlur($event)" (focus)="onFocus($event)"
        (change)="change($event)" (input)="change($event)" placeholder="{{ state.selected?.placeHolder }}" #focusable />
    </ng-template>
  </div>
</div>